{% extends "layout.html" %}

{% block title %}
   Form
{% endblock %}


{% block main %}
<!--Creating payment form-->
<body1>

  <div class="container2">
    <form>

      <div class="row2">
        <h4>Payment form</h4>
        <div class="input-group input-group-icon">
          <input type="text" placeholder="Full Name"/>
          <div class="input-icon"><i class="fa fa-user"></i></div>
        </div>
        <div class="input-group input-group-icon">
          <input type="email" placeholder="Email Adress"/>
          <div class="input-icon"><i class="fa fa-envelope"></i></div>
        </div>
      </div>

      <div class="row2">
        <div class="col-half">
          <h4>Date of Birth</h4>
          <div class="input-group">
            <div class="col-third">
              <input type="text" placeholder="DD"/>
            </div>
            <div class="col-third">
              <input type="text" placeholder="MM"/>
            </div>
            <div class="col-third">
              <input type="text" placeholder="YYYY"/>
            </div>
          </div>
        </div>
        <div class="col-half">
          <h4>Gender</h4>
          <div class="input-group">
            <input id="gender-male" type="radio" name="gender" value="male"/>
            <label for="gender-male">Male</label>
            <input id="gender-female" type="radio" name="gender" value="female"/>
            <label for="gender-female">Female</label>
          </div>
        </div>
      </div>

      <div class="row2">
        <div class="col-half">
          <label for="country-select"><h4>Select Country:</h4></label>
          <div class="input-group">
              <select id="country-select" style="color:grey">
                <option value="Afghanistan">Afghanistan</option>
                <option value="Åland Islands">Åland Islands</option>
                <option value="Albania">Albania</option>
                <option value="Algeria">Algeria</option>
                <option value="American Samoa">American Samoa</option>
                <option value="Andorra">Andorra</option>
                <option value="Angola">Angola</option>
                <option value="Anguilla">Anguilla</option>
                <option value="Antarctica">Antarctica</option>
                <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                <option value="Argentina">Argentina</option>
                <option value="Armenia">Armenia</option>
                <option value="Aruba">Aruba</option>
                <option value="Australia">Australia</option>
                <option value="Austria">Austria</option>
                <option value="Azerbaijan">Azerbaijan</option>
                <option value="Bahamas">Bahamas</option>
                <option value="Bahrain">Bahrain</option>
                <option value="Bangladesh">Bangladesh</option>
                <option value="Barbados">Barbados</option>
                <option value="Belarus">Belarus</option>
              </select>
          </div>
        </div>
        <div class="col-half">
          <label for="package-select"><h4>Select Package:</h4></label>
          <div class="input-group">
          <select id="package-select" style="color:grey">
              <option value="Basic">Basic</option>
              <option value="Deluxe">Deluxe</option>
              <option value="Super Deluxe">Super Deluxe</option>
          </select>
        </div>
        <div class="col-half">
          <p>* Country taxes will be included in a final price</p></div>
          <div id="total-value"></div>
        </div>
      </div>

      <!--Creating calculator for total price-->
      <script>
        // Getting the elements from the form
        const countrySelect = document.querySelector('#country-select');
        const packageSelect = document.querySelector('#package-select');
        const totalValue = document.querySelector('#total-value');

        // Defining the prices for the different packages
        const packagePrices = {
          'Basic': 10,
          'Deluxe': 50,
          'Super Deluxe': 70
        };

        // Defining the taxes for the different countries
        const countryTaxes = {
          'Afghanistan': 0.05,
          'Åland Islands': 0.1,
          'Albania': 0.2,
          'Algeria': 0.15,
          'American Samoa': 0.1,
          'Andorra': 0.2,
          'Angola': 0.15,
          'Anguilla': 0.1,
          'Antarctica': 0.05,
          'Antigua and Barbuda': 0.1,
          'Argentina': 0.2,
          'Armenia': 0.2,
          'Aruba': 0.1,
          'Australia': 0.1,
          'Austria': 0.2,
          'Azerbaijan': 0.2,
          'Bahamas': 0.1,
          'Bahrain': 0.15,
          'Bangladesh': 0.2,
          'Barbados': 0.1,
          'Belarus': 0.2
        };

        // Calculating the total value based on the selected country and package
        function calculateTotal() {
          const selectedPackage = packageSelect.value;
          const packagePrice = packagePrices[selectedPackage];
          const selectedCountry = countrySelect.value;
          const countryTax = countryTaxes[selectedCountry];
          const totalPrice = packagePrice + (packagePrice * countryTax);
          totalValue.innerHTML = `Total: $${totalPrice.toFixed(2)}`;
        }
        // Adding an event listener to the package and country selects to recalculate the total when the user selects a different option
        packageSelect.addEventListener('change', calculateTotal);
        countrySelect.addEventListener('change', calculateTotal);
      </script>

      <div class="row">
        <h4>Payment Details</h4>
        <div class="input-group">
          <input id="payment-method-card" type="radio" name="payment-method" value="card" checked="true"/>
          <label for="payment-method-card"><span><i class="fa fa-cc-visa"></i>Credit Card</span></label>
          <input id="payment-method-paypal" type="radio" name="payment-method" value="paypal"/>
          <label for="payment-method-paypal"> <span><i class="fa fa-cc-paypal"></i>Paypal</span></label>
        </div>
        <div class="input-group input-group-icon">
          <input type="text" placeholder="Card Number"/>
          <div class="input-icon"><i class="fa fa-credit-card"></i></div>
        </div>
        <div class="col-half">
          <div class="input-group input-group-icon">
            <input type="text" placeholder="Card CVC"/>
            <div class="input-icon"><i class="fa fa-user"></i></div>
          </div>
        </div>
        <div class="col-half">
          <div class="input-group">
            <select>
              <option>01 Jan</option>
              <option>02 Jan</option>
            </select>
            <select>
              <option>2025</option>
              <option>2026</option>
            </select>
          </div>
        </div>
        <div class="input-group input-group-icon">
          <input type="submit" value="Pay">
        </div>
      </div>
    </form>
  </div>
</body1>

{% endblock %}